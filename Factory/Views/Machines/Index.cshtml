@{
  Layout = "_Layout";
}

@using Factory.Models;

<h1 class="my-4">Machines</h1>

@* @if (@Model.Count == 0)
{
  <h3>No machines have been added yet!</h3>
} *@
<table class="table table-hover">
  <thead>
    <tr>
      <th scope="col">Name</th>
      <th scope="col">Model Number</th>
      <th scope="col">Engineers</th>
    </tr>
  </thead>
  <tbody>
    <tr class="table-active">
      @foreach (Machine machine in @Model)
      {
        <tr>
        <th>@Html.ActionLink($"{machine.Name}", "Details", new { id = machine.MachineId }, new { @class = "text-black"})</th>
        <th>@machine.ModelNumber</th>
        <th>
          @foreach(var engineer in @machine.JoinEntities)
          {
            @engineer.engineer.Name
            <br>
          }
        </th>
        </tr> 
      }     
    </tr>
  </tbody>
</table>
</ul>

@Html.ActionLink("Add new machine", "Create", new {area = ""}, new { @class = "btn btn-secondary btn-sm my-3 mr-4" })
@Html.ActionLink("Home", "Index", "Home", new {area = ""}, new { @class = "btn btn-secondary btn-sm my-3 mx-4" })
