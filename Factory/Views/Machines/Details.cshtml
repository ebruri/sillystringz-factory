@{
  Layout = "_Layout";
}

@model Factory.Models.Machine;

<h2 class="mt-4">Machine Details</h2>
<hr />
<h5>@Html.DisplayNameFor(model => model.Name):</h5> <p>@Html.DisplayFor(model => model.Name)</p>
<h2>@Html.DisplayNameFor(model => model.ModelNumber):</h5> <p>@Html.DisplayFor(model => model.ModelNumber)</2>

<h5>Engineers that can repair this machine:</h5>
@foreach (var join in Model.JoinEntities)
  {
    @join.engineer.Name
    @using (Html.BeginForm("DeleteEngineer", "Machines"))
      {
        @Html.Hidden("joinId", @join.EngineerMachineId)
        <input type="submit" value="Delete" />
      }
  }
  
<hr />

@Html.ActionLink("Add an engineer", "AddEngineer", new { id = Model.MachineId }, new { @class = "btn btn-secondary btn-sm ml-2 mt-3" })
@Html.ActionLink("Edit Machine", "Edit", new { id = Model.MachineId }, new { @class = "btn btn-secondary btn-sm mx-2 mt-3" })
@Html.ActionLink("Delete Machine", "Delete", new { id = Model.MachineId }, new { @class = "btn btn-secondary btn-sm mx-2 mt-3" })
